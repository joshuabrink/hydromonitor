<%- include ('./partials/header.ejs') %>

<nav class="row between">
  <h1 class="logo">logo</h1>
  <div class="nav-list row around">
    <a href="index.html">Charts</a>
    <a href="pages/logs.html">Logs</a>
    <a href="pages/settings.html">Settings</a>
  </div>
</nav>

<!-- Add your site or application content here -->
<section class="col w-100">
  <div class="row">
    <div class="chart-container">
      <canvas class="myChart"></canvas>
    </div>

    <div class="chart-container">
      <canvas class="myChart"></canvas>
    </div>
    <div class="chart-container">
      <canvas class="myChart"></canvas>
    </div>

  </div>
  <p id='outputSerial'></p>
  <button id="stopReading" onclick="stopReading()">STOP</button>

  <script  src="http://localhost:3003/socket.io/socket.io.js"></script>
  <script type="text/javascript">
          const socket = io('http://localhost:3003')

          socket.on('readings', function (data) {
                  document.getElementById('outputSerial').innerText = data.value;
          });
         
          function stopReading() {
                  document.getElementById('stopReading').style.color = "green";
                  document.getElementById('stopReading').innerText = "";
                  socket.emit('stopReading', {value: false});
          }
         
  </script>
</section>

<%- include ('./partials/footer.ejs') %>